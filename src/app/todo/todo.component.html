<div class="container mx-auto p-4">
  <h2 class="text-2xl font-bold mb-4">My To-do List</h2>

  <div class="mb-4 flex">
    <input [(ngModel)]="newTask" placeholder="New task" class="border border-gray-500 rounded-sm p-1" />
    <select [(ngModel)]="selectedCategory" class="border p-2 ml-2">
      <option *ngFor="let category of categories" [value]="category">{{category}}</option>
    </select>
    <button class="bg-green-800 text-white px-3 py-2 rounded ml-2" (click)="addTask()">Add</button>
  </div>

  <div *ngIf="inputError" class="text-red-500 mb-4">{{inputError}}</div>

  <ul>
    <li
      *ngFor="let task of tasks; let i = index"
      class="bg-white text-lg p-4 mb-2 rounded shadow flex justify-between items-center"
    >
    <div>
      <span [ngClass]="{ 'line-through text-gray-500': task.completed }">{{
        task.name
      }}</span>
      <span class="ml-2 text-gray-500 text-xs">{{ task.category }}</span>
    </div>
      
      <div>
        <button
          class="bg-yellow-500 text-white p-1 rounded mr-2"
          (click)="deleteTask(i)"
        >
          Delete
        </button>
        <button
          class="bg-red-500 text-white p-1 rounded"
          (click)="toggleCompletion(i)"
        >
          {{ task.completed ? "Undo" : "Complete" }}
        </button>
      </div>
    </li>
  </ul>
  <button
    *ngIf="hasCompletedTasks"
    (click)="clearCompletedTasks()"
    class="bg-red-500 text-white p-2 rounded mb-4"
  >
    Clear Completed Tasks
  </button>
</div>
